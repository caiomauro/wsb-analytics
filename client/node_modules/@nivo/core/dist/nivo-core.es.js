import{createContext as e,useMemo as r,useContext as t,useRef as i,useEffect as n,useState as o,cloneElement as a,useCallback as l,memo as s,createElement as d,Component as u}from"react";import c from"prop-types";import{TooltipProvider as f,Tooltip as p,useTooltipHandlers as h,TooltipActionsContext as g,TooltipStateContext as b}from"@nivo/tooltip";import m from"lodash/merge";import y from"lodash/get";import v from"lodash/set";import{interpolateString as R}from"d3-interpolate";import{config as q,useSpring as k,to as _,animated as w}from"@react-spring/web";import x from"lodash/isString";import{jsx as O,jsxs as W}from"react/jsx-runtime";import C from"lodash/last";import z from"lodash/isArray";import{scaleQuantize as T,scaleOrdinal as S,scaleSequential as M}from"d3-scale";import{schemeBrBG as j,schemePRGn as P,schemePiYG as B,schemePuOr as G,schemeRdBu as L,schemeRdGy as I,schemeRdYlBu as D,schemeRdYlGn as Y,schemeSpectral as A,schemeBlues as F,schemeGreens as E,schemeGreys as U,schemeOranges as X,schemePurples as H,schemeReds as K,schemeBuGn as N,schemeBuPu as V,schemeGnBu as J,schemeOrRd as Q,schemePuBuGn as Z,schemePuBu as $,schemePuRd as ee,schemeRdPu as re,schemeYlGnBu as te,schemeYlGn as ie,schemeYlOrBr as ne,schemeYlOrRd as oe,schemeCategory10 as ae,schemeAccent as le,schemeDark2 as se,schemePaired as de,schemePastel1 as ue,schemePastel2 as ce,schemeSet1 as fe,schemeSet2 as pe,schemeSet3 as he,interpolateBrBG as ge,interpolatePRGn as be,interpolatePiYG as me,interpolatePuOr as ye,interpolateRdBu as ve,interpolateRdGy as Re,interpolateRdYlBu as qe,interpolateRdYlGn as ke,interpolateSpectral as _e,interpolateBlues as we,interpolateGreens as xe,interpolateGreys as Oe,interpolateOranges as We,interpolatePurples as Ce,interpolateReds as ze,interpolateViridis as Te,interpolateInferno as Se,interpolateMagma as Me,interpolatePlasma as je,interpolateWarm as Pe,interpolateCool as Be,interpolateCubehelixDefault as Ge,interpolateBuGn as Le,interpolateBuPu as Ie,interpolateGnBu as De,interpolateOrRd as Ye,interpolatePuBuGn as Ae,interpolatePuBu as Fe,interpolatePuRd as Ee,interpolateRdPu as Ue,interpolateYlGnBu as Xe,interpolateYlGn as He,interpolateYlOrBr as Ke,interpolateYlOrRd as Ne,interpolateRainbow as Ve,interpolateSinebow as Je}from"d3-scale-chromatic";import Qe from"lodash/isFunction";import Ze from"lodash/without";import{curveBasis as $e,curveBasisClosed as er,curveBasisOpen as rr,curveBundle as tr,curveCardinal as ir,curveCardinalClosed as nr,curveCardinalOpen as or,curveCatmullRom as ar,curveCatmullRomClosed as lr,curveCatmullRomOpen as sr,curveLinear as dr,curveLinearClosed as ur,curveMonotoneX as cr,curveMonotoneY as fr,curveNatural as pr,curveStep as hr,curveStepAfter as gr,curveStepBefore as br,stackOrderAscending as mr,stackOrderDescending as yr,stackOrderInsideOut as vr,stackOrderNone as Rr,stackOrderReverse as qr,stackOffsetExpand as kr,stackOffsetDiverging as _r,stackOffsetNone as wr,stackOffsetSilhouette as xr,stackOffsetWiggle as Or}from"d3-shape";import{format as Wr}from"d3-format";import{timeFormat as Cr}from"d3-time-format";import zr from"lodash/isPlainObject";import Tr from"lodash/pick";import Sr from"lodash/isEqual";function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mr.apply(this,arguments)}function jr(e,r){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},jr(e,r)}function Pr(e,r){if(null==e)return{};var t,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],r.indexOf(t)>=0||(n[t]=e[t]);return n}var Br={fill:c.string,fontSize:c.number,fontFamily:c.string},Gr=c.shape({domain:c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}).isRequired,ticks:c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired,text:c.shape(Mr({},Br)).isRequired}).isRequired,legend:c.shape({text:c.shape(Mr({},Br)).isRequired}).isRequired}),Lr=c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}),Ir=c.shape({hidden:c.shape({symbol:c.shape({fill:c.string.isRequired,opacity:c.number}).isRequired,text:c.shape(Mr({},Br,{opacity:c.number})).isRequired}).isRequired,text:c.shape(Mr({},Br)).isRequired}),Dr=c.shape({text:c.shape(Mr({},Br)).isRequired}),Yr=c.shape({text:c.shape(Mr({},Br)).isRequired}),Ar=c.shape({text:c.shape(Mr({},Br)).isRequired}),Fr=c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}),Er=c.shape({text:c.shape(Mr({},Br,{outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired})).isRequired,link:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired,outline:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired,symbol:c.shape({fill:c.string.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired}),Ur=c.shape({background:c.string.isRequired,fontFamily:c.string.isRequired,fontSize:c.number.isRequired,textColor:c.string.isRequired,axis:Gr.isRequired,grid:Lr.isRequired,legends:Ir.isRequired,labels:Dr.isRequired,dots:Yr.isRequired,markers:Ar,crosshair:Fr.isRequired,annotations:Er.isRequired}),Xr={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent"},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},Hr=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Kr=function(e,r){var t=m({},e,r);return Hr.forEach((function(e){void 0===y(t,e+".fontFamily")&&v(t,e+".fontFamily",t.text.fontFamily),void 0===y(t,e+".fontSize")&&v(t,e+".fontSize",t.text.fontSize),void 0===y(t,e+".fill")&&v(t,e+".fill",t.text.fill),void 0===y(t,e+".outlineWidth")&&v(t,e+".outlineWidth",t.text.outlineWidth),void 0===y(t,e+".outlineColor")&&v(t,e+".outlineColor",t.text.outlineColor)})),t},Nr=e(),Vr={animate:!0,config:"default"},Jr=function(e){var t=e.children,i=e.animate,n=void 0===i||i,o=e.config,a=void 0===o?"default":o,l=r((function(){var e=x(a)?q[a]:a;return{animate:n,config:e}}),[n,a]);return O(Nr.Provider,{value:l,children:t})},Qr={animate:c.bool,motionConfig:c.oneOfType([c.oneOf(Object.keys(q)),c.shape({mass:c.number,tension:c.number,friction:c.number,clamp:c.bool,precision:c.number,velocity:c.number,duration:c.number,easing:c.func})])};Jr.propTypes={children:c.node.isRequired,animate:Qr.animate,config:Qr.motionConfig};var Zr=function(){return t(Nr)},$r=function(e){var t=Zr(),o=t.animate,a=t.config,l=function(e){var r=i();return n((function(){r.current=e}),[e]),r.current}(e),s=r((function(){return R(l,e)}),[l,e]),d=k({from:{value:0},to:{value:1},reset:!0,config:a,immediate:!o}).value;return _(d,s)},et={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:C(j),PRGn:C(P),PiYG:C(B),PuOr:C(G),RdBu:C(L),RdGy:C(I),RdYlBu:C(D),RdYlGn:C(Y),spectral:C(A),blues:C(F),greens:C(E),greys:C(U),oranges:C(X),purples:C(H),reds:C(K),BuGn:C(N),BuPu:C(V),GnBu:C(J),OrRd:C(Q),PuBuGn:C(Z),PuBu:C($),PuRd:C(ee),RdPu:C(re),YlGnBu:C(te),YlGn:C(ie),YlOrBr:C(ne),YlOrRd:C(oe)},rt=Object.keys(et),tt=function(e){if(Qe(e)){if(!Qe(e.domain))throw new Error("Provided colors should be a valid quantize scale providing a 'domain()' function");return e}if(et[e])return T().range(et[e]);if(z(e))return T().range(e);throw new Error("Unable to guess quantize color scale from '"+e+"',\nmust be a function or one of:\n'"+rt.join("', '")+"'")},it={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:ae,accent:le,dark2:se,paired:de,pastel1:ue,pastel2:ce,set1:fe,set2:pe,set3:he,brown_blueGreen:C(j),purpleRed_green:C(P),pink_yellowGreen:C(B),purple_orange:C(G),red_blue:C(L),red_grey:C(I),red_yellow_blue:C(D),red_yellow_green:C(Y),spectral:C(A),blues:C(F),greens:C(E),greys:C(U),oranges:C(X),purples:C(H),reds:C(K),blue_green:C(N),blue_purple:C(V),green_blue:C(J),orange_red:C(Q),purple_blue_green:C(Z),purple_blue:C($),purple_red:C(ee),red_purple:C(re),yellow_green_blue:C(te),yellow_green:C(ie),yellow_orange_brown:C(ne),yellow_orange_red:C(oe)},nt=["nivo","category10","accent","dark2","paired","pastel1","pastel2","set1","set2","set3","brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red"],ot={brown_blueGreen:ge,purpleRed_green:be,pink_yellowGreen:me,purple_orange:ye,red_blue:ve,red_grey:Re,red_yellow_blue:qe,red_yellow_green:ke,spectral:_e,blues:we,greens:xe,greys:Oe,oranges:We,purples:Ce,reds:ze,viridis:Te,inferno:Se,magma:Me,plasma:je,warm:Pe,cool:Be,cubehelixDefault:Ge,blue_green:Le,blue_purple:Ie,green_blue:De,orange_red:Ye,purple_blue_green:Ae,purple_blue:Fe,purple_red:Ee,red_purple:Ue,yellow_green_blue:Xe,yellow_green:He,yellow_orange_brown:Ke,yellow_orange_red:Ne,rainbow:Ve,sinebow:Je},at=["brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","viridis","inferno","magma","plasma","warm","cool","cubehelixDefault","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red","rainbow","sinebow"],lt=function(){return S(["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"])},st=function(e,r){if(x(e)){var t=it[e];if(void 0!==t){var i=S(t);return i.type="ordinal",i}if(void 0!==r&&0===e.indexOf("seq:")){var n=ot[e.slice(4)];if(void 0!==n){var o=M(n).domain(r.domain());return o.type="sequential",o}}}if(z(e)){var a=S(e);return a.type="ordinal",a}return function(){return e}},dt=c.oneOfType([c.oneOf(rt),c.func,c.arrayOf(c.string)]),ut={basis:$e,basisClosed:er,basisOpen:rr,bundle:tr,cardinal:ir,cardinalClosed:nr,cardinalOpen:or,catmullRom:ar,catmullRomClosed:lr,catmullRomOpen:sr,linear:dr,linearClosed:ur,monotoneX:cr,monotoneY:fr,natural:pr,step:hr,stepAfter:gr,stepBefore:br},ct=Object.keys(ut),ft=c.oneOf(ct),pt=ct.filter((function(e){return e.endsWith("Closed")})),ht=Ze(ct,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),gt=Ze(ct,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),bt=c.oneOf(gt),mt=function(e){if(!ut[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return ut[e]},yt={defs:c.arrayOf(c.shape({id:c.string.isRequired})).isRequired,fill:c.arrayOf(c.shape({id:c.string.isRequired,match:c.oneOfType([c.oneOf(["*"]),c.object,c.func]).isRequired})).isRequired},vt={ascending:mr,descending:yr,insideOut:vr,none:Rr,reverse:qr},Rt=Object.keys(vt),qt=c.oneOf(Rt),kt=function(e){return vt[e]},_t={expand:kr,diverging:_r,none:wr,silhouette:xr,wiggle:Or},wt=Object.keys(_t),xt=c.oneOf(wt),Ot=function(e){return _t[e]},Wt=c.shape({top:c.number,right:c.number,bottom:c.number,left:c.number}).isRequired,Ct=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],zt=c.oneOf(Ct),Tt=function(e){return r((function(){return mt(e)}),[e])},St=!0,Mt=lt,jt=S(he),Pt={top:0,right:0,bottom:0,left:0},Bt=function(e,t,i){return void 0===i&&(i={}),r((function(){var r=Mr({},Pt,i);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,i.top,i.right,i.bottom,i.left])},Gt=function(){var e=i(null),r=o({left:0,top:0,width:0,height:0}),t=r[0],a=r[1],l=o((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var r=e[0];return a(r.contentRect)}))}))[0];return n((function(){return e.current&&null!==l&&l.observe(e.current),function(){null!==l&&l.disconnect()}}),[]),[e,t]},Lt=function(e){return r((function(){return Kr(Xr,e)}),[e])},It=function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?Cr(e.slice("5")):Wr(e):function(e){return""+e}},Dt=function(e){return r((function(){return It(e)}),[e])},Yt=e(),At={},Ft=function(e){var r=e.theme,t=void 0===r?At:r,i=e.children,n=Lt(t);return O(Yt.Provider,{value:n,children:i})};Ft.propTypes={children:c.node.isRequired,theme:c.object};var Et=function(){return t(Yt)},Ut=function(e){var r=e.children,t=e.condition,i=e.wrapper;return t?a(i,{},r):r};Ut.propTypes={children:c.node.isRequired,condition:c.bool.isRequired,wrapper:c.element.isRequired};var Xt={position:"relative"},Ht=function(e){var r=e.children,t=e.theme,n=e.renderWrapper,o=void 0===n||n,a=e.isInteractive,l=void 0===a||a,s=e.animate,d=e.motionConfig,u=i(null);return O(Ft,{theme:t,children:O(Jr,{animate:s,config:d,children:O(f,{container:u,children:W(Ut,{condition:o,wrapper:O("div",{style:Xt,ref:u}),children:[r,l&&O(p,{})]})})})})};Ht.propTypes={children:c.element.isRequired,isInteractive:c.bool,renderWrapper:c.bool,theme:c.object,animate:c.bool,motionConfig:c.string};var Kt=function(){},Nt={position:"relative"},Vt=function(e){var t=e.children,n=e.theme,o=e.isInteractive,a=void 0===o||o,s=e.renderWrapper,d=void 0===s||s,u=e.animate,c=e.motionConfig,f=i(null),m=h(f),y=m.actions,v=m.state,R=l((function(e,r){return y.showTooltipFromEvent(e,r)}),[y.showTooltipFromEvent]),q=r((function(){return{showTooltip:a?R:Kt,hideTooltip:a?y.hideTooltip:Kt}}),[y.hideTooltip,a,R]);return O(Ft,{theme:n,children:O(Jr,{animate:u,config:c,children:O(g.Provider,{value:y,children:O(b.Provider,{value:v,children:W(Ut,{condition:d,wrapper:O("div",{style:Nt,ref:f}),children:[t(q),a&&O(p,{})]})})})})})};Vt.propTypes={children:c.func.isRequired,isInteractive:c.bool,renderWrapper:c.bool,theme:c.object.isRequired,animate:c.bool.isRequired,motionConfig:c.string};var Jt=function(e){var r=e.children,t=Gt(),i=t[0],n=t[1],o=n.width>0&&n.height>0;return O("div",{ref:i,style:{width:"100%",height:"100%"},children:o&&r({width:n.width,height:n.height})})};Jt.propTypes={children:c.func.isRequired};var Qt=["id","colors"],Zt=function(e){var r=e.id,t=e.colors,i=Pr(e,Qt);return O("linearGradient",Mr({id:r,x1:0,x2:0,y1:0,y2:1},i,{children:t.map((function(e){var r=e.offset,t=e.color,i=e.opacity;return O("stop",{offset:r+"%",stopColor:t,stopOpacity:void 0!==i?i:1},r)}))}))};Zt.propTypes={id:c.string.isRequired,colors:c.arrayOf(c.shape({offset:c.number.isRequired,color:c.string.isRequired,opacity:c.number})).isRequired,gradientTransform:c.string};var $t=function(e,r,t){return void 0===t&&(t={}),Mr({id:e,type:"linearGradient",colors:r},t)},ei={linearGradient:Zt},ri={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},ti=s((function(e){var r=e.id,t=e.background,i=void 0===t?ri.background:t,n=e.color,o=void 0===n?ri.color:n,a=e.size,l=void 0===a?ri.size:a,s=e.padding,d=void 0===s?ri.padding:s,u=e.stagger,c=void 0===u?ri.stagger:u,f=l+d,p=l/2,h=d/2;return!0===c&&(f=2*l+2*d),W("pattern",{id:r,width:f,height:f,patternUnits:"userSpaceOnUse",children:[O("rect",{width:f,height:f,fill:i}),O("circle",{cx:h+p,cy:h+p,r:p,fill:o}),c&&O("circle",{cx:1.5*d+l+p,cy:1.5*d+l+p,r:p,fill:o})]})}));ti.displayName="PatternDots",ti.propTypes={id:c.string.isRequired,color:c.string.isRequired,background:c.string.isRequired,size:c.number.isRequired,padding:c.number.isRequired,stagger:c.bool.isRequired};var ii=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternDots"},r)},ni=2*Math.PI,oi=function(e){return e*Math.PI/180},ai=function(e){return 180*e/Math.PI},li=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},si=function(e,r){return{x:Math.cos(e)*r,y:Math.sin(e)*r}},di=function(e){var r=e%360;return r<0&&(r+=360),r},ui=function(e){return e-ni*Math.floor((e+Math.PI)/ni)},ci=function(e){return e<0?360- -e%360:e%360},fi=function(e,r,t){void 0===t&&(t=360);var i=r;return Math.abs(r-e)>t&&(i=e+(r>e?t:-t)),[e,i]},pi={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},hi=function(e,r,t,i){void 0===i&&(i="svg");var n=pi[i],o=si(r-Math.PI/2,e),a=o.x,l=o.y,s=ai(r),d=n.align.center,u=n.baseline.bottom;return t>0?(d=n.align.right,u=n.baseline.center):t<0&&(d=n.align.left,u=n.baseline.center),0!==t&&s>180&&(s-=180,d=d===n.align.right?n.align.left:n.align.right),{x:a,y:l,rotate:s+=t,align:d,baseline:u}},gi={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},bi=s((function(e){var r=e.id,t=e.spacing,i=void 0===t?gi.spacing:t,n=e.rotation,o=void 0===n?gi.rotation:n,a=e.background,l=void 0===a?gi.background:a,s=e.color,d=void 0===s?gi.color:s,u=e.lineWidth,c=void 0===u?gi.lineWidth:u,f=Math.round(o)%360,p=Math.abs(i);f>180?f-=360:f>90?f-=180:f<-180?f+=360:f<-90&&(f+=180);var h,g=p,b=p;return 0===f?h="\n                M 0 0 L "+g+" 0\n                M 0 "+b+" L "+g+" "+b+"\n            ":90===f?h="\n                M 0 0 L 0 "+b+"\n                M "+g+" 0 L "+g+" "+b+"\n            ":(g=Math.abs(p/Math.sin(oi(f))),b=p/Math.sin(oi(90-f)),h=f>0?"\n                    M 0 "+-b+" L "+2*g+" "+b+"\n                    M "+-g+" "+-b+" L "+g+" "+b+"\n                    M "+-g+" 0 L "+g+" "+2*b+"\n                ":"\n                    M "+-g+" "+b+" L "+g+" "+-b+"\n                    M "+-g+" "+2*b+" L "+2*g+" "+-b+"\n                    M 0 "+2*b+" L "+2*g+" 0\n                "),W("pattern",{id:r,width:g,height:b,patternUnits:"userSpaceOnUse",children:[O("rect",{width:g,height:b,fill:l,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),O("path",{d:h,strokeWidth:c,stroke:d,strokeLinecap:"square"})]})}));bi.displayName="PatternLines",bi.propTypes={id:c.string.isRequired,spacing:c.number.isRequired,rotation:c.number.isRequired,background:c.string.isRequired,color:c.string.isRequired,lineWidth:c.number.isRequired};var mi=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternLines"},r)},yi={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},vi=s((function(e){var r=e.id,t=e.color,i=void 0===t?yi.color:t,n=e.background,o=void 0===n?yi.background:n,a=e.size,l=void 0===a?yi.size:a,s=e.padding,d=void 0===s?yi.padding:s,u=e.stagger,c=void 0===u?yi.stagger:u,f=l+d,p=d/2;return!0===c&&(f=2*l+2*d),W("pattern",{id:r,width:f,height:f,patternUnits:"userSpaceOnUse",children:[O("rect",{width:f,height:f,fill:o}),O("rect",{x:p,y:p,width:l,height:l,fill:i}),c&&O("rect",{x:1.5*d+l,y:1.5*d+l,width:l,height:l,fill:i})]})}));vi.displayName="PatternSquares",vi.propTypes={id:c.string.isRequired,color:c.string.isRequired,background:c.string.isRequired,size:c.number.isRequired,padding:c.number.isRequired,stagger:c.bool.isRequired};var Ri=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternSquares"},r)},qi={patternDots:ti,patternLines:bi,patternSquares:vi},ki=["type"],_i=Mr({},ei,qi),wi=function(e){var r=e.defs;return!r||r.length<1?null:O("defs",{"aria-hidden":!0,children:r.map((function(e){var r=e.type,t=Pr(e,ki);return _i[r]?d(_i[r],Mr({key:t.id},t)):null}))})};wi.propTypes={defs:c.arrayOf(c.shape({type:c.oneOf(Object.keys(_i)).isRequired,id:c.string.isRequired}))};var xi=s(wi),Oi=function(e){var r=e.width,t=e.height,i=e.margin,n=e.defs,o=e.children,a=e.role,l=e.ariaLabel,s=e.ariaLabelledBy,d=e.ariaDescribedBy,u=e.isFocusable,c=Et();return W("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:t,role:a,"aria-label":l,"aria-labelledby":s,"aria-describedby":d,focusable:u,tabIndex:u?0:void 0,children:[O(xi,{defs:n}),O("rect",{width:r,height:t,fill:c.background}),O("g",{transform:"translate("+i.left+","+i.top+")",children:o})]})};Oi.propTypes={width:c.number.isRequired,height:c.number.isRequired,margin:c.shape({top:c.number.isRequired,left:c.number.isRequired}).isRequired,defs:c.array,children:c.oneOfType([c.arrayOf(c.node),c.node]).isRequired,role:c.string,isFocusable:c.bool,ariaLabel:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string};var Wi=function(e){var r=e.size,t=e.color,i=e.borderWidth,n=e.borderColor;return O("circle",{r:r/2,fill:t,stroke:n,strokeWidth:i,style:{pointerEvents:"none"}})};Wi.propTypes={size:c.number.isRequired,color:c.string.isRequired,borderWidth:c.number.isRequired,borderColor:c.string.isRequired};var Ci=s(Wi),zi=function(e){var r=e.x,t=e.y,i=e.symbol,n=void 0===i?Ci:i,o=e.size,a=e.datum,l=e.color,s=e.borderWidth,u=e.borderColor,c=e.label,f=e.labelTextAnchor,p=void 0===f?"middle":f,h=e.labelYOffset,g=void 0===h?-12:h,b=Et(),m=Zr(),y=m.animate,v=m.config,R=k({transform:"translate("+r+", "+t+")",config:v,immediate:!y});return W(w.g,{transform:R.transform,style:{pointerEvents:"none"},children:[d(n,{size:o,color:l,datum:a,borderWidth:s,borderColor:u}),c&&O("text",{textAnchor:p,y:g,style:b.dots.text,children:c})]})};zi.propTypes={x:c.number.isRequired,y:c.number.isRequired,datum:c.object.isRequired,size:c.number.isRequired,color:c.string.isRequired,borderWidth:c.number.isRequired,borderColor:c.string.isRequired,symbol:c.oneOfType([c.func,c.object]),label:c.oneOfType([c.string,c.number]),labelTextAnchor:c.oneOf(["start","middle","end"]),labelYOffset:c.number};var Ti=s(zi),Si=function(e){var r=e.width,t=e.height,i=e.axis,n=e.scale,o=e.value,a=e.lineStyle,l=e.textStyle,s=e.legend,d=e.legendPosition,u=void 0===d?"top-right":d,c=e.legendOffsetX,f=void 0===c?14:c,p=e.legendOffsetY,h=void 0===p?14:p,g=e.legendOrientation,b=void 0===g?"horizontal":g,m=Et(),y=0,v=0,R=0,q=0;"y"===i?(R=n(o),v=r):(y=n(o),q=t);var k=null;if(s){var _=function(e){var r=e.axis,t=e.width,i=e.height,n=e.position,o=e.offsetX,a=e.offsetY,l=e.orientation,s=0,d=0,u="vertical"===l?-90:0,c="start";if("x"===r)switch(n){case"top-left":s=-o,d=a,c="end";break;case"top":d=-a,c="horizontal"===l?"middle":"start";break;case"top-right":s=o,d=a,c="horizontal"===l?"start":"end";break;case"right":s=o,d=i/2,c="horizontal"===l?"start":"middle";break;case"bottom-right":s=o,d=i-a,c="start";break;case"bottom":d=i+a,c="horizontal"===l?"middle":"end";break;case"bottom-left":d=i-a,s=-o,c="horizontal"===l?"end":"start";break;case"left":s=-o,d=i/2,c="horizontal"===l?"end":"middle"}else switch(n){case"top-left":s=o,d=-a,c="start";break;case"top":s=t/2,d=-a,c="horizontal"===l?"middle":"start";break;case"top-right":s=t-o,d=-a,c="horizontal"===l?"end":"start";break;case"right":s=t+o,c="horizontal"===l?"start":"middle";break;case"bottom-right":s=t-o,d=a,c="end";break;case"bottom":s=t/2,d=a,c="horizontal"===l?"middle":"end";break;case"bottom-left":s=o,d=a,c="horizontal"===l?"start":"end";break;case"left":s=-o,c="horizontal"===l?"end":"middle"}return{x:s,y:d,rotation:u,textAnchor:c}}({axis:i,width:r,height:t,position:u,offsetX:f,offsetY:h,orientation:b});k=O("text",{transform:"translate("+_.x+", "+_.y+") rotate("+_.rotation+")",textAnchor:_.textAnchor,dominantBaseline:"central",style:l,children:s})}return W("g",{transform:"translate("+y+", "+R+")",children:[O("line",{x1:0,x2:v,y1:0,y2:q,stroke:m.markers.lineColor,strokeWidth:m.markers.lineStrokeWidth,style:a}),k]})};Si.propTypes={width:c.number.isRequired,height:c.number.isRequired,axis:c.oneOf(["x","y"]).isRequired,scale:c.func.isRequired,value:c.oneOfType([c.number,c.string,c.instanceOf(Date)]).isRequired,lineStyle:c.object,textStyle:c.object,legend:c.string,legendPosition:c.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:c.number.isRequired,legendOffsetY:c.number.isRequired,legendOrientation:c.oneOf(["horizontal","vertical"]).isRequired};var Mi=s(Si),ji=function(e){var r=e.markers,t=e.width,i=e.height,n=e.xScale,o=e.yScale;return r&&0!==r.length?r.map((function(e,r){return O(Mi,Mr({},e,{width:t,height:i,scale:"y"===e.axis?o:n}),r)})):null};ji.propTypes={width:c.number.isRequired,height:c.number.isRequired,xScale:c.func.isRequired,yScale:c.func.isRequired,markers:c.arrayOf(c.shape({axis:c.oneOf(["x","y"]).isRequired,value:c.oneOfType([c.number,c.string,c.instanceOf(Date)]).isRequired,lineStyle:c.object,textStyle:c.object}))};var Pi=s(ji),Bi=["theme","renderWrapper","animate","motionConfig"],Gi=function(e){return function(r){var t,i;function n(){return r.apply(this,arguments)||this}return i=r,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,jr(t,i),n.prototype.render=function(){var r=this.props,t=r.theme,i=r.renderWrapper,n=r.animate,o=r.motionConfig,a=Pr(r,Bi);return O(Ht,{theme:t,renderWrapper:i,isInteractive:a.isInteractive,animate:n,motionConfig:o,children:O(e,Mr({},a))})},n}(u)},Li=function(e,r){var t,i=Qe(e)?e:function(r){return y(r,e)};return r&&(t=Qe(r)?r:Wr(r)),t?function(e){return t(i(e))}:i},Ii=function(e){return Qe(e)?e:function(r){return y(r,e)}},Di=function(e){return r((function(){return Ii(e)}),[e])},Yi=["center","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],Ai=function(e,r,t){var i=r.width-e.width,n=r.height-e.height,o=0,a=0;return"center"===t&&(o=i/2,a=n/2),"top"===t&&(o=i/2),"top-right"===t&&(o=i),"right"===t&&(o=i,a=n/2),"bottom-right"===t&&(o=i,a=n),"bottom"===t&&(o=i/2,a=n),"bottom-left"===t&&(a=n),"left"===t&&(a=n/2),[o,a]},Fi=function(e,r,t,i){var n=t-e,o=i-r;return n*=n,o*=o,Math.sqrt(n+o)},Ei=function(e,r,t,i){var n=Math.atan2(i-r,t-e)-Math.PI/2;return n>0?n:2*Math.PI+n},Ui=function(e,r,t,i,n,o){return e<=n&&n<=e+t&&r<=o&&o<=r+i},Xi=function(e,r){var t,i="touches"in r?r.touches[0]:r,n=i.clientX,o=i.clientY,a=e.getBoundingClientRect(),l=(t=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth||0,height:e.offsetHeight||0}).width===a.width?1:t.width/a.width;return[(n-a.left)*l,(o-a.top)*l]},Hi=Object.keys(ei),Ki=Object.keys(qi),Ni=function(e,r,t){if("*"===e)return!0;if(Qe(e))return e(r);if(zr(e)){var i=t?y(r,t):r;return Sr(Tr(i,Object.keys(e)),e)}return!1},Vi=function(e,r,t,i){var n=void 0===i?{}:i,o=n.dataKey,a=n.colorKey,l=void 0===a?"color":a,s=n.targetKey,d=void 0===s?"fill":s,u=[],c={};return e.length&&r.length&&(u=[].concat(e),r.forEach((function(r){for(var i=function(){var i=t[n],a=i.id,s=i.match;if(Ni(s,r,o)){var f=e.find((function(e){return e.id===a}));if(f)if(Ki.includes(f.type))if("inherit"===f.background||"inherit"===f.color){var p=y(r,l),h=f.background,g=f.color,b=a;"inherit"===f.background&&(b=b+".bg."+p,h=p),"inherit"===f.color&&(b=b+".fg."+p,g=p),v(r,d,"url(#"+b+")"),c[b]||(u.push(Mr({},f,{id:b,background:h,color:g})),c[b]=1)}else v(r,d,"url(#"+a+")");else if(Hi.includes(f.type)){if(f.colors.map((function(e){return e.color})).includes("inherit")){var m=y(r,l),R=a,q=Mr({},f,{colors:f.colors.map((function(e,r){return"inherit"!==e.color?e:(R=R+"."+r+"."+m,Mr({},e,{color:"inherit"===e.color?m:e.color}))}))});q.id=R,v(r,d,"url(#"+R+")"),c[R]||(u.push(q),c[R]=1)}else v(r,d,"url(#"+a+")")}return"break"}},n=0;n<t.length;n++){if("break"===i())break}}))),u};export{Pi as CartesianMarkers,Mi as CartesianMarkersItem,Ht as Container,xi as Defs,Ti as DotsItem,Vt as LegacyContainer,Zt as LinearGradient,Jr as MotionConfigProvider,ti as PatternDots,ri as PatternDotsDefaultProps,bi as PatternLines,gi as PatternLinesDefaultProps,vi as PatternSquares,yi as PatternSquaresDefaultProps,Jt as ResponsiveWrapper,Oi as SvgWrapper,ni as TWO_PI,Ft as ThemeProvider,di as absoluteAngleDegrees,ui as absoluteAngleRadians,Ai as alignBox,Er as annotationsPropType,ht as areaCurvePropKeys,Gr as axisThemePropType,Vi as bindDefs,zt as blendModePropType,Ct as blendModes,Yi as boxAlignments,fi as clampArc,pt as closedCurvePropKeys,at as colorInterpolatorIds,ot as colorInterpolators,nt as colorSchemeIds,Fr as crosshairPropType,mt as curveFromProp,ct as curvePropKeys,ut as curvePropMapping,ft as curvePropType,St as defaultAnimate,Mt as defaultCategoricalColors,jt as defaultColorRange,Pt as defaultMargin,Xr as defaultTheme,yt as defsPropTypes,oi as degreesToRadians,Yr as dotsThemePropType,Kr as extendDefaultTheme,Ei as getAngle,st as getColorScale,Fi as getDistance,Li as getLabelGenerator,hi as getPolarLabelProps,Ii as getPropertyAccessor,Xi as getRelativeCursor,It as getValueFormatter,ei as gradientTypes,Lr as gridThemePropType,tt as guessQuantizeColorScale,Ui as isCursorInRect,Ni as isMatchingDef,Dr as labelsThemePropType,Ir as legendsThemePropType,gt as lineCurvePropKeys,bt as lineCurvePropType,$t as linearGradientDef,Wt as marginPropType,Ar as markersThemePropType,li as midAngle,Nr as motionConfigContext,Vr as motionDefaultProps,Qr as motionPropTypes,lt as nivoCategoricalColors,Kt as noop,ci as normalizeAngle,ii as patternDotsDef,mi as patternLinesDef,Ri as patternSquaresDef,qi as patternTypes,si as positionFromAngle,dt as quantizeColorScalePropType,et as quantizeColorScales,rt as quantizeColorScalesKeys,ai as radiansToDegrees,Ot as stackOffsetFromProp,wt as stackOffsetPropKeys,_t as stackOffsetPropMapping,xt as stackOffsetPropType,kt as stackOrderFromProp,Rt as stackOrderPropKeys,vt as stackOrderPropMapping,qt as stackOrderPropType,pi as textPropsByEngine,Yt as themeContext,Ur as themePropType,$r as useAnimatedPath,Tt as useCurveInterpolation,Bt as useDimensions,Gt as useMeasure,Zr as useMotionConfig,Lt as usePartialTheme,Di as usePropertyAccessor,Et as useTheme,Dt as useValueFormatter,Gi as withContainer};
//# sourceMappingURL=nivo-core.es.js.map
