{"ast":null,"code":"import groupDataBySegments from \"./SegmentDataUtil\";\nconst visualizationTimeline = (stock, data, days) => {\n  const stock_date_sentiment = {};\n  const printHolder = {};\n  const final_data = [];\n  for (let i = 0; i < data.length; i++) {\n    const stock = data[i][0];\n    const sentiment = data[i][1];\n    const dateObject = new Date(data[i][2]);\n    const unixTimestamp = dateObject.getTime();\n    if (!stock_date_sentiment[stock]) {\n      stock_date_sentiment[stock] = [];\n    }\n    stock_date_sentiment[stock].push([sentiment, unixTimestamp.toString()]);\n  }\n  Object.entries(stock_date_sentiment).forEach(([stock, data]) => {\n    printHolder[stock] = groupDataBySegments(data, days);\n  });\n  Object.entries(printHolder[stock]).forEach(([date, sentiments]) => {\n    const stock_data = [{\n      day: date,\n      positive: sentiments[0],\n      positiveColor: \"hsl(288, 70%, 50%)\",\n      negative: sentiments[1],\n      negativeColor: \"hsl(2, 70%, 50%))\",\n      mixed: sentiments[2],\n      mixedColor: \"hsl(323, 70%, 50%)\"\n    }];\n    final_data.push(stock_data[0]);\n  });\n  return final_data;\n};\nexport default visualizationTimeline;","map":{"version":3,"names":["groupDataBySegments","visualizationTimeline","stock","data","days","stock_date_sentiment","printHolder","final_data","i","length","sentiment","dateObject","Date","unixTimestamp","getTime","push","toString","Object","entries","forEach","date","sentiments","stock_data","day","positive","positiveColor","negative","negativeColor","mixed","mixedColor"],"sources":["/Users/rutemauro/Documents/GitHub/wsb-analytics/client/src/Utils/VisualizationTimelineUtil.tsx"],"sourcesContent":["import groupDataBySegments from \"./SegmentDataUtil\";\n\ntype timeline_data = {\n    day: string;\n    positive: number;\n    positiveColor: string;\n    negative: number;\n    negativeColor: string;\n    mixed: number;\n    mixedColor: string;\n  };\n\nconst visualizationTimeline = (\n    stock: string,\n    data: Array<Array<string>>,\n    days: number\n  ) => {\n    const stock_date_sentiment: { [key: string]: Array<Array<string>> } = {};\n    const printHolder: { [key: string]: { [date: string]: Array<number> } } =\n      {};\n    const final_data: any[] = [];\n\n    for (let i = 0; i < data.length; i++) {\n      const stock = data[i][0];\n      const sentiment = data[i][1];\n      const dateObject: Date = new Date(data[i][2]);\n      const unixTimestamp: number = dateObject.getTime();\n\n      if (!stock_date_sentiment[stock]) {\n        stock_date_sentiment[stock] = [];\n      }\n      stock_date_sentiment[stock].push([sentiment, unixTimestamp.toString()]);\n    }\n\n    Object.entries(stock_date_sentiment).forEach(([stock, data]) => {\n      printHolder[stock] = groupDataBySegments(data, days);\n    });\n\n    Object.entries(printHolder[stock]).forEach(([date, sentiments]) => {\n      const stock_data: timeline_data[] = [\n        {\n          day: date,\n          positive: sentiments[0],\n          positiveColor: \"hsl(288, 70%, 50%)\",\n          negative: sentiments[1],\n          negativeColor: \"hsl(2, 70%, 50%))\",\n          mixed: sentiments[2],\n          mixedColor: \"hsl(323, 70%, 50%)\",\n        },\n      ];\n\n      final_data.push(stock_data[0]);\n    });\n\n    return final_data;\n  };\n\nexport default visualizationTimeline;"],"mappings":"AAAA,OAAOA,mBAAmB,MAAM,mBAAmB;AAYnD,MAAMC,qBAAqB,GAAGA,CAC1BC,KAAa,EACbC,IAA0B,EAC1BC,IAAY,KACT;EACH,MAAMC,oBAA6D,GAAG,CAAC,CAAC;EACxE,MAAMC,WAAiE,GACrE,CAAC,CAAC;EACJ,MAAMC,UAAiB,GAAG,EAAE;EAE5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,IAAI,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;IACpC,MAAMN,KAAK,GAAGC,IAAI,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,MAAME,SAAS,GAAGP,IAAI,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5B,MAAMG,UAAgB,GAAG,IAAIC,IAAI,CAACT,IAAI,CAACK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,MAAMK,aAAqB,GAAGF,UAAU,CAACG,OAAO,CAAC,CAAC;IAElD,IAAI,CAACT,oBAAoB,CAACH,KAAK,CAAC,EAAE;MAChCG,oBAAoB,CAACH,KAAK,CAAC,GAAG,EAAE;IAClC;IACAG,oBAAoB,CAACH,KAAK,CAAC,CAACa,IAAI,CAAC,CAACL,SAAS,EAAEG,aAAa,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC;EACzE;EAEAC,MAAM,CAACC,OAAO,CAACb,oBAAoB,CAAC,CAACc,OAAO,CAAC,CAAC,CAACjB,KAAK,EAAEC,IAAI,CAAC,KAAK;IAC9DG,WAAW,CAACJ,KAAK,CAAC,GAAGF,mBAAmB,CAACG,IAAI,EAAEC,IAAI,CAAC;EACtD,CAAC,CAAC;EAEFa,MAAM,CAACC,OAAO,CAACZ,WAAW,CAACJ,KAAK,CAAC,CAAC,CAACiB,OAAO,CAAC,CAAC,CAACC,IAAI,EAAEC,UAAU,CAAC,KAAK;IACjE,MAAMC,UAA2B,GAAG,CAClC;MACEC,GAAG,EAAEH,IAAI;MACTI,QAAQ,EAAEH,UAAU,CAAC,CAAC,CAAC;MACvBI,aAAa,EAAE,oBAAoB;MACnCC,QAAQ,EAAEL,UAAU,CAAC,CAAC,CAAC;MACvBM,aAAa,EAAE,mBAAmB;MAClCC,KAAK,EAAEP,UAAU,CAAC,CAAC,CAAC;MACpBQ,UAAU,EAAE;IACd,CAAC,CACF;IAEDtB,UAAU,CAACQ,IAAI,CAACO,UAAU,CAAC,CAAC,CAAC,CAAC;EAChC,CAAC,CAAC;EAEF,OAAOf,UAAU;AACnB,CAAC;AAEH,eAAeN,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}