{"ast":null,"code":"var _jsxFileName = \"/Users/rutemauro/Documents/GitHub/wsb-analytics/client/src/Pages/AnalyticsPage.tsx\",\n  _s = $RefreshSig$();\nimport 'flowbite';\nimport { useState } from 'react';\nimport BottomHeader from \"../Components/BottomHeader\";\nimport Navbar from \"../Components/Navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AnalyticsPage() {\n  _s();\n  const [data, setData] = useState([]);\n  const fetchData = count => {\n    fetch(`http://127.0.0.1:8000/api/stock-sentiments/?count=${count}`) // Use backticks for template literals\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    }).then(data => {\n      data = data.stock_sentiments;\n      setData(data.stock_sentiments);\n    }).catch(error => {\n      console.error('There was a problem fetching the data:', error);\n    });\n  };\n  const visualization = data => {\n    const stock = {};\n    const stock_sentiment_count = {};\n    for (let i = 0; i < data.length; i++) {\n      const key = data[i][0];\n      const value = data[i][1];\n      if (!stock[key]) {\n        stock[key] = []; // Create an empty array if the key doesn't exist\n      }\n      stock[key].push(value);\n    }\n    Object.entries(stock).forEach(([key, value]) => {\n      stock_sentiment_count[key] = [0, 0, 0];\n      for (let i = 0; i < value.length; i++) {\n        if (value[i] == 'positive') {\n          stock_sentiment_count[key][0] = stock_sentiment_count[key][0] + 1;\n        } else if (value[i] == 'negative') {\n          stock_sentiment_count[key][1] = stock_sentiment_count[key][1] + 1;\n        } else {\n          stock_sentiment_count[key][2] = stock_sentiment_count[key][2] + 1;\n        }\n      }\n      stock_sentiment_count[key];\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col w-full h-screen custom-background-img-mobile sm:custom-background-img-desktop\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"analytics-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"dropdownDefaultButton\",\n        \"data-dropdown-toggle\": \"dropdown\",\n        className: \"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",\n        type: \"button\",\n        children: [\"Dropdown button \", /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-2.5 h-2.5 ms-3\",\n          \"aria-hidden\": \"true\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          fill: \"none\",\n          viewBox: \"0 0 10 6\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            stroke: \"currentColor\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\",\n            \"stroke-width\": \"2\",\n            d: \"m1 1 4 4 4-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 368\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"dropdown\",\n        className: \"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"py-2 text-sm text-gray-700 dark:text-gray-200\",\n          \"aria-labelledby\": \"dropdownDefaultButton\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\",\n              onClick: () => {\n                fetchData(10);\n              },\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\",\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\",\n              children: \"Earnings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\",\n              children: \"Sign out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(BottomHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(AnalyticsPage, \"hhQqYsxLIv1exGOzUvDGOVv6fXw=\");\n_c = AnalyticsPage;\nexport default AnalyticsPage;\nvar _c;\n$RefreshReg$(_c, \"AnalyticsPage\");","map":{"version":3,"names":["useState","BottomHeader","Navbar","jsxDEV","_jsxDEV","AnalyticsPage","_s","data","setData","fetchData","count","fetch","then","response","ok","Error","json","stock_sentiments","catch","error","console","visualization","stock","stock_sentiment_count","i","length","key","value","push","Object","entries","forEach","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","type","xmlns","fill","viewBox","stroke","d","onClick","href","_c","$RefreshReg$"],"sources":["/Users/rutemauro/Documents/GitHub/wsb-analytics/client/src/Pages/AnalyticsPage.tsx"],"sourcesContent":["import 'flowbite';\nimport { useState } from 'react';\nimport BottomHeader from \"../Components/BottomHeader\";\nimport Navbar from \"../Components/Navbar\";\n\nfunction AnalyticsPage(){\n\n    const [data, setData] = useState([]);\n\n    const fetchData = (count: number) => {\n        fetch(`http://127.0.0.1:8000/api/stock-sentiments/?count=${count}`)  // Use backticks for template literals\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            })\n            .then(data => {\n                data = data.stock_sentiments;\n                setData(data.stock_sentiments);\n\n            })\n            .catch(error => {\n                console.error('There was a problem fetching the data:', error);\n            });\n    };\n\n    const visualization = (data: Array<Array<string>>) => {\n        const stock: {[key:string]:Array<string>} = {}\n        const stock_sentiment_count: {[key:string]: Array<number>} ={}\n\n        for (let i=0; i < data.length; i++){\n            const key = data[i][0];\n            const value = data[i][1];\n            \n            if (!stock[key]) {\n                stock[key] = []; // Create an empty array if the key doesn't exist\n            }\n            stock[key].push(value);\n        }\n\n        Object.entries(stock).forEach(([key, value]) => {\n            stock_sentiment_count[key] = [0,0,0]\n            for (let i=0; i < value.length; i++) {\n                if (value[i] == 'positive')\n                {\n                    stock_sentiment_count[key][0] = stock_sentiment_count[key][0] + 1\n                }\n                else if (value[i] == 'negative')\n                {\n                    stock_sentiment_count[key][1] = stock_sentiment_count[key][1] + 1\n                }\n                else \n                {\n                    stock_sentiment_count[key][2] = stock_sentiment_count[key][2] + 1\n                }\n            }\n            stock_sentiment_count[key]\n        });\n    }\n\n    return(\n        <div className=\"flex flex-col w-full h-screen custom-background-img-mobile sm:custom-background-img-desktop\">\n            <Navbar />\n                <div id=\"analytics-container\">\n                    <p>Test</p>\n                    \n                    <button id=\"dropdownDefaultButton\" data-dropdown-toggle=\"dropdown\" className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\" type=\"button\">Dropdown button <svg className=\"w-2.5 h-2.5 ms-3\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 10 6\">\n                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 4 4 4-4\"/>\n                    </svg>\n                    </button>\n\n                    <div id=\"dropdown\" className=\"z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700\">\n                        <ul className=\"py-2 text-sm text-gray-700 dark:text-gray-200\" aria-labelledby=\"dropdownDefaultButton\">\n                        <li>\n                            <a className=\"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\" onClick={()=>{fetchData(10)}}>10</a>\n                        </li>\n                        <li>\n                            <a href=\"#\" className=\"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\">Settings</a>\n                        </li>\n                        <li>\n                            <a href=\"#\" className=\"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\">Earnings</a>\n                        </li>\n                        <li>\n                            <a href=\"#\" className=\"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white\">Sign out</a>\n                        </li>\n                        </ul>\n                    </div>\n                    <p>{data}</p>\n\n                </div>\n            <BottomHeader />\n        </div>\n    )\n}\n\nexport default AnalyticsPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}